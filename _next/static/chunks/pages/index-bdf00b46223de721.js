(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8581:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(2427)}])},2427:function(n,e,t){"use strict";t.r(e),t.d(e,{default:function(){return B}});var r=t(5893),o=t(9008),a=t(7294),s=function(n){return new Array("hours"===n?100:60).fill("").map((function(e,t){var o=t.toString().padStart(2,"0");return(0,r.jsx)("option",{value:o,children:o},"".concat(n,"-option-").concat(t))}))},c=function(n){var e=void 0===n?{}:n,t=e.updateInterval,r=void 0===t?1e3:t,o=e.initialDuration,s=void 0===o?0:o,c=(0,a.useRef)(s),i=(0,a.useRef)(0),u=(0,a.useRef)(0),l=(0,a.useState)(s/1e3),d=l[0],f=l[1],h=(0,a.useState)(!1),p=h[0],m=h[1],v=(0,a.useState)(s),g=v[0],b=v[1],_=(0,a.useState)(0),y=(_[0],_[1]),x=(0,a.useCallback)((function(){y((function(n){return n+1}))}),[y]),j=(0,a.useCallback)((function(){c.current=g,i.current=0,u.current=0,f(g/1e3),m(!1),x()}),[f,m,g]),w=(0,a.useCallback)((function(){f(0),m(!1)}),[f,m]);return(0,a.useEffect)((function(){var n,e,t=g-i.current;if(p&&t>=0){var o=function(a){if(e?i.current+=a-e:u.current=i.current,e=a,(t=g-i.current)<=0)w();else{var s=Math.ceil(t/1e3),l=Math.ceil(c.current/1e3);c.current=t,s!==l?f(s):r<1e3&&i.current-u.current>=r&&(u.current=i.current,x()),n=window.requestAnimationFrame(o)}};n=window.requestAnimationFrame(o)}return function(){cancelAnimationFrame(n)}}),[p,j,g,r]),{start:function(){return m(!0)},stop:function(){return m(!1)},reset:j,setDuration:function(n){var e=function(n){var e=n.hours,t=void 0===e?0:e,r=n.minutes,o=void 0===r?0:r,a=n.seconds,s=void 0===a?0:a,c=n.milliseconds;return parseInt(void 0===c?0:c,10)+1e3*parseInt(s,10)+60*parseInt(o,10)*1e3+60*parseInt(t,10)*60*1e3}({hours:n.hours,minutes:n.minutes,seconds:n.seconds});c.current=e,i.current=0,u.current=0,b(e),f(e/1e3)},seconds:d,isRunning:p,updateInterval:r,duration:g,elapsed:i.current,remaining:g-i.current}};function i(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function u(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})))),r.forEach((function(e){i(n,e,t[e])}))}return n}var l=function(n,e,t){if(n.has(e)){var r=parseInt(n.get(e),10);if(!isNaN(r))return r}return t},d=1e3,f=0,h=!1;if("undefined"!==typeof document){var p=new URLSearchParams(document.location.search);d=l(p,"interval",d),d=Math.max(d,16),f=l(p,"duration",f),f=Math.max(f,0),f=1e3*Math.round(f/1e3),h=p.has("message")}var m=(0,a.createContext)(),v=function(n){var e=n.children,t=c({updateInterval:d,initialDuration:f});return(0,r.jsx)(m.Provider,{value:u({},t,{showStartMessage:h}),children:e})},g=function(){var n=(0,a.useContext)(m);if(void 0===n)throw new Error("useCountdownProvider must be used within a CountdownProvider");return n},b=t(2458),_=t.n(b);function y(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function x(n,e){if(null==n)return{};var t,r,o=function(n,e){if(null==n)return{};var t,r,o={},a=Object.keys(n);for(r=0;r<a.length;r++)t=a[r],e.indexOf(t)>=0||(o[t]=n[t]);return o}(n,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(r=0;r<a.length;r++)t=a[r],e.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(n,t)&&(o[t]=n[t])}return o}var j=s("hours"),w=s("minutes"),O=s("seconds"),S=function(){var n=g(),e=n.setDuration,t=n.stop,o=n.isRunning,a=function(n){var e=void 0===n?0:n,t=parseInt(e%1e3),r=Math.floor(e/1e3%60),o=Math.floor(e/6e4%60),a=Math.floor(e/36e5);return{_hours:a,_minutes:o,_seconds:r,_milliseconds:t,hours:a.toString().padStart(2,"0"),minutes:o.toString().padStart(2,"0"),seconds:r.toString().padStart(2,"0"),milliseconds:t.toString().padStart(3,"0")}}(1e3*n.seconds),s=a.hours,c=a.minutes,i=a.seconds,u=function(n){o&&t()},l=function(n){return function(t){var r=t.target.value;e(y({hours:s,minutes:c,seconds:i},n,parseInt(r,10))),document.activeElement.blur()}},d=[{type:"select",children:j,value:s,id:"hours-select",onChange:l("hours")},{type:"colon"},{type:"select",children:w,value:c,id:"minutes-select",onChange:l("minutes")},{type:"colon"},{type:"select",children:O,value:i,id:"seconds-select",onChange:l("seconds")}];return(0,r.jsx)("div",{className:_().root,children:d.map((function(n,e){var t=n.children,o=n.type,a=x(n,["children","type"]);return"select"===o?(0,r.jsx)("select",function(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})))),r.forEach((function(e){y(n,e,t[e])}))}return n}({className:_().select,onFocus:u},a,{children:t}),"select-".concat(e)):(0,r.jsx)("span",{className:_().colon,children:":"},"colon-".concat(e))}))})},D=t(9571),k=t.n(D),N=t(3160),P=t.n(N);function C(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function I(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})))),r.forEach((function(e){C(n,e,t[e])}))}return n}var A=function(){var n=g(),e=n.reset,t=n.stop,o=n.start,a=n.isRunning,s=n.elapsed,c=n.remaining,i=function(n){return a?t():o()};return(0,r.jsxs)("div",{className:P().root,children:[(0,r.jsx)("button",I({className:P().button},s>0&&{onTouchStart:e},{onTouchEnd:function(n){return n.preventDefault()},onClick:e,disabled:0===s,children:(0,r.jsx)("span",{children:"Reset"})})),(0,r.jsx)("button",I({className:P().button},c>0&&{onTouchStart:i},{onTouchEnd:function(n){return n.preventDefault()},onClick:i,disabled:c<=0,children:(0,r.jsx)("span",{children:"".concat(a?"Stop":"Start")})}))]})},M=t(1708),E=t.n(M),R=function(){var n=g(),e=n.duration,t=n.remaining,o=n.elapsed,a=n.isRunning,s=n.updateInterval,c=360,i=180,u=173,l=346*Math.PI,d=function(n){var e=n.isRunning,t=n.updateInterval,r=n.remaining,o=n.duration,a=o>0?(r-(e?t:0))/o:0;return Math.min(1,Math.max(0,a))}({isRunning:a,updateInterval:s,remaining:t,duration:e}),f=function(n){var e=n.isRunning,t=n.updateInterval,r=n.remaining,o=n.elapsed;return"".concat(e?r<t?r:t:o>0?0:350,"ms")}({isRunning:a,updateInterval:s,remaining:t,elapsed:o}),h={strokeDasharray:l,strokeDashoffset:l*(1-d),transitionDuration:f};return(0,r.jsx)("div",{className:E().root,children:(0,r.jsxs)("svg",{className:E().svg,width:c,height:c,viewBox:"".concat(-30," ").concat(-30," ").concat(420," ").concat(420),children:[(0,r.jsx)("g",{className:E().ticks,style:{transform:"translate(".concat(i,"px, ").concat(i,"px)")},children:new Array(12).fill("").map((function(n,e){return(0,r.jsx)("line",{x1:u,y1:"0",x2:143,y2:"0"},"tick-".concat(e))}))}),(0,r.jsx)("circle",{className:E().meter,cx:i,cy:i,r:u,strokeWidth:14}),(0,r.jsx)("circle",{className:E().value,style:h,cx:i,cy:i,r:u,strokeWidth:16}),(0,r.jsx)("g",{style:{transform:"translate(".concat(u,"px, ").concat(i,"px)")},children:(0,r.jsxs)("g",{className:E().handle,style:{transform:"rotate(".concat(360*d,"deg)"),transitionDuration:f},children:[(0,r.jsx)("rect",{y:-7,x:0,width:i,height:"".concat(12,"px"),fill:"#FADB4A"}),(0,r.jsx)("circle",{cy:0,cx:u,r:"30",fill:"#FADB4A"})]})})]})})},T=t(6904),F=t.n(T),X=function(){var n=g(),e=n.seconds,t=n.showStartMessage,o=(0,a.useState)(!1),s=o[0],c=o[1];return(0,a.useEffect)((function(){!s&&e>0&&c(!0)}),[e,s]),t&&!s&&e<=0?(0,r.jsx)("div",{className:F().root,children:(0,r.jsx)("div",{className:F().message,children:"Tap the numbers to set a countdown"})}):null},B=function(){return(0,r.jsxs)(v,{children:[(0,r.jsxs)(o.default,{children:[(0,r.jsx)("title",{children:"Jonathan Elbom - Countdown"}),(0,r.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,r.jsxs)("main",{className:k().main,children:[(0,r.jsx)(R,{}),(0,r.jsx)(X,{}),(0,r.jsx)(S,{}),(0,r.jsx)(A,{})]})]})}},1708:function(n){n.exports={root:"AnalogDisplay_root__2BFrX",svg:"AnalogDisplay_svg__usD0b",meter:"AnalogDisplay_meter__wsRPK",value:"AnalogDisplay_value__MmVG8",ticks:"AnalogDisplay_ticks__QsZbl",handle:"AnalogDisplay_handle__zXtYW"}},3160:function(n){n.exports={root:"Controls_root__PC78M",button:"Controls_button__d_TJo"}},2458:function(n){n.exports={root:"DurationSelect_root__e1hRz",select:"DurationSelect_select__ioN_K",colon:"DurationSelect_colon__Gdbew"}},6904:function(n){n.exports={root:"Messaging_root__S3AAw",message:"Messaging_message__rXz00"}},9571:function(n){n.exports={main:"Index_main__TFvkh"}},9008:function(n,e,t){n.exports=t(5443)}},function(n){n.O(0,[774,888,179],(function(){return e=8581,n(n.s=e);var e}));var e=n.O();_N_E=e}]);